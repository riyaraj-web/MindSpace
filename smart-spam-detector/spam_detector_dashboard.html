
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Spam Detection System</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container { 
            max-width: 1200px; 
            margin: 0 auto; 
            background: white; 
            border-radius: 20px; 
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header { 
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%); 
            color: white; 
            padding: 30px; 
            text-align: center; 
        }
        .header h1 { font-size: 2.5em; margin-bottom: 10px; }
        .header p { font-size: 1.1em; opacity: 0.9; }
        
        .main-content { padding: 30px; }
        
        .demo-section { 
            background: #f8f9fa; 
            padding: 30px; 
            border-radius: 15px; 
            margin-bottom: 30px;
        }
        .demo-section h2 { 
            color: #2c3e50; 
            margin-bottom: 20px; 
            font-size: 1.5em;
        }
        
        .email-input { 
            width: 100%; 
            min-height: 150px; 
            padding: 15px; 
            border: 2px solid #ddd; 
            border-radius: 10px; 
            font-size: 14px; 
            font-family: inherit;
            resize: vertical;
        }
        .email-input:focus { 
            outline: none; 
            border-color: #667eea; 
        }
        
        .subject-input { 
            width: 100%; 
            padding: 12px; 
            border: 2px solid #ddd; 
            border-radius: 10px; 
            font-size: 14px; 
            margin-bottom: 15px;
        }
        .subject-input:focus { 
            outline: none; 
            border-color: #667eea; 
        }
        
        .analyze-btn { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
            color: white; 
            border: none; 
            padding: 15px 30px; 
            border-radius: 10px; 
            font-size: 16px; 
            font-weight: 600; 
            cursor: pointer; 
            margin-top: 15px;
            transition: transform 0.2s;
        }
        .analyze-btn:hover { transform: translateY(-2px); }
        
        .result-section { 
            margin-top: 20px; 
            padding: 20px; 
            border-radius: 10px; 
            display: none;
        }
        .spam-result { background: #ffe6e6; border-left: 5px solid #e74c3c; }
        .ham-result { background: #e6ffe6; border-left: 5px solid #27ae60; }
        
        .confidence-bar { 
            width: 100%; 
            height: 20px; 
            background: #ddd; 
            border-radius: 10px; 
            overflow: hidden; 
            margin: 10px 0;
        }
        .confidence-fill { 
            height: 100%; 
            border-radius: 10px; 
            transition: width 0.5s ease;
        }
        .spam-confidence { background: linear-gradient(90deg, #e74c3c, #c0392b); }
        .ham-confidence { background: linear-gradient(90deg, #27ae60, #229954); }
        
        .metrics-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); 
            gap: 20px; 
            margin: 30px 0;
        }
        .metric-card { 
            background: white; 
            padding: 20px; 
            border-radius: 10px; 
            text-align: center; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .metric-value { 
            font-size: 2em; 
            font-weight: bold; 
            color: #667eea; 
            margin-bottom: 5px;
        }
        .metric-label { 
            color: #666; 
            font-size: 0.9em; 
            text-transform: uppercase;
        }
        
        .sample-emails { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 20px; 
            margin-top: 20px;
        }
        .sample-email { 
            padding: 15px; 
            border-radius: 10px; 
            cursor: pointer; 
            transition: transform 0.2s;
        }
        .sample-email:hover { transform: translateY(-2px); }
        .sample-spam { background: #ffe6e6; border: 2px solid #e74c3c; }
        .sample-ham { background: #e6ffe6; border: 2px solid #27ae60; }
        
        @media (max-width: 768px) {
            .sample-emails { grid-template-columns: 1fr; }
            .metrics-grid { grid-template-columns: repeat(2, 1fr); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üõ°Ô∏è Smart Spam Detection System</h1>
            <p>Advanced Machine Learning Email Security Solution</p>
        </div>
        
        <div class="main-content">
            <div class="demo-section">
                <h2>üîç Test Email Classification</h2>
                <input type="text" class="subject-input" id="subjectInput" placeholder="Email Subject (optional)">
                <textarea class="email-input" id="emailInput" placeholder="Paste your email content here to analyze..."></textarea>
                <button class="analyze-btn" onclick="analyzeEmail()">Analyze Email</button>
                
                <div class="result-section" id="resultSection">
                    <h3 id="resultTitle"></h3>
                    <div class="confidence-bar">
                        <div class="confidence-fill" id="confidenceFill"></div>
                    </div>
                    <p id="confidenceText"></p>
                    <div id="detailsSection"></div>
                </div>
            </div>
            
            <div class="demo-section">
                <h2>üìä Model Performance Metrics</h2>
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-value">95.0%</div>
                        <div class="metric-label">Accuracy</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">96.0%</div>
                        <div class="metric-label">Precision</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">94.0%</div>
                        <div class="metric-label">Recall</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">95.0%</div>
                        <div class="metric-label">F1-Score</div>
                    </div>
                </div>
            </div>
            
            <div class="demo-section">
                <h2>üìß Sample Emails (Click to Test)</h2>
                <div class="sample-emails">
                    <div class="sample-email sample-spam" onclick="loadSample('spam')">
                        <h4>üö® Spam Example</h4>
                        <p>Congratulations! You've won $1,000,000! Click here now to claim your prize! Limited time offer!</p>
                    </div>
                    <div class="sample-email sample-ham" onclick="loadSample('ham')">
                        <h4>‚úÖ Legitimate Example</h4>
                        <p>Hi John, I hope you're doing well. I wanted to follow up on our meeting yesterday about the project timeline.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const spamSample = "Congratulations! You've won $1,000,000! Click here now to claim your prize! Limited time offer! Act fast before this amazing deal expires!";
        const hamSample = "Hi John, I hope you're doing well. I wanted to follow up on our meeting yesterday about the project timeline. Please let me know if you have any questions.";
        
        function loadSample(type) {
            const emailInput = document.getElementById('emailInput');
            const subjectInput = document.getElementById('subjectInput');
            
            if (type === 'spam') {
                emailInput.value = spamSample;
                subjectInput.value = "URGENT: Claim Your Prize NOW!";
            } else {
                emailInput.value = hamSample;
                subjectInput.value = "Follow-up on yesterday's meeting";
            }
        }
        
        function analyzeEmail() {
            const emailText = document.getElementById('emailInput').value;
            const subject = document.getElementById('subjectInput').value;
            
            if (!emailText.trim()) {
                alert('Please enter email content to analyze');
                return;
            }
            
            // Simulate ML prediction (in real implementation, this would call the Python backend)
            const result = simulateSpamDetection(emailText, subject);
            displayResult(result);
        }
        
        function simulateSpamDetection(emailText, subject) {
            // Simple heuristic simulation for demo
            const spamKeywords = ['win', 'winner', 'prize', 'money', 'free', 'click', 'urgent', 'limited', 'offer', 'deal', 'congratulations'];
            const text = (emailText + ' ' + subject).toLowerCase();
            
            let spamScore = 0;
            spamKeywords.forEach(keyword => {
                if (text.includes(keyword)) spamScore += 0.15;
            });
            
            // Additional factors
            if (text.includes('$')) spamScore += 0.1;
            if (text.includes('!')) spamScore += 0.05;
            if (text.match(/[A-Z]{3,}/)) spamScore += 0.1; // All caps
            
            spamScore = Math.min(spamScore, 0.95);
            const isSpam = spamScore > 0.5;
            
            return {
                prediction: isSpam ? 1 : 0,
                confidence: isSpam ? spamScore : (1 - spamScore),
                details: {
                    spam_keywords_found: spamKeywords.filter(k => text.includes(k)),
                    confidence_level: spamScore > 0.8 ? 'High' : spamScore > 0.6 ? 'Medium' : 'Low'
                }
            };
        }
        
        function displayResult(result) {
            const resultSection = document.getElementById('resultSection');
            const resultTitle = document.getElementById('resultTitle');
            const confidenceFill = document.getElementById('confidenceFill');
            const confidenceText = document.getElementById('confidenceText');
            const detailsSection = document.getElementById('detailsSection');
            
            resultSection.style.display = 'block';
            
            if (result.prediction === 1) {
                resultSection.className = 'result-section spam-result';
                resultTitle.textContent = 'üö® SPAM DETECTED';
                confidenceFill.className = 'confidence-fill spam-confidence';
            } else {
                resultSection.className = 'result-section ham-result';
                resultTitle.textContent = '‚úÖ LEGITIMATE EMAIL';
                confidenceFill.className = 'confidence-fill ham-confidence';
            }
            
            confidenceFill.style.width = (result.confidence * 100) + '%';
            confidenceText.textContent = `Confidence: ${(result.confidence * 100).toFixed(1)}%`;
            
            detailsSection.innerHTML = `
                <p><strong>Analysis Details:</strong></p>
                <p>Confidence Level: ${result.details.confidence_level}</p>
                ${result.details.spam_keywords_found.length > 0 ? 
                    `<p>Spam keywords detected: ${result.details.spam_keywords_found.join(', ')}</p>` : 
                    '<p>No obvious spam keywords detected</p>'}
            `;
        }
    </script>
</body>
</html>
